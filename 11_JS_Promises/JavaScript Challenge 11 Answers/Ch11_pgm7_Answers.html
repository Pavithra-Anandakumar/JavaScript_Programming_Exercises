<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Promises</title>
</head>

<body>
    <script>
        //const countriesAPI = 'https://restcountries.com/v2/all'
        //const catsAPI = 'https://api.thecatapi.com/v1/breeds'
        const countriesAPI = 'https://restcountries.com/v2/all';
        const catsAPI = 'https://api.thecatapi.com/v1/breeds';

        // 1. Average Weight of Cats in Metric Units
        fetch(catsAPI)
            .then(response => response.json())
            .then(cats => {
                const weights = cats.map(cat => {
                    // Convert weight to an array of two numbers, then calculate the average
                    const weightMetric = cat.weight.metric.split(' - ').map(Number);
                    return (weightMetric[0] + weightMetric[1]) / 2;
                });
                const averageWeight = weights.reduce((acc, weight) => acc + weight, 0) / weights.length;
                console.log(`Average Weight of Cats: ${averageWeight.toFixed(2)} kg`);
            })
            .catch(error => console.error('Error fetching cats data:', error));

        // 2. 10 Largest Countries by Area
        fetch(countriesAPI)
            .then(response => response.json())
            .then(countries => {
                const sortedCountries = countries.sort((a, b) => b.area - a.area);
                const largestCountries = sortedCountries.slice(0, 10);
                largestCountries.forEach(country => {
                    console.log(`${country.name}: ${country.area} sq km`);
                });
            })
            .catch(error => console.error('Error fetching countries data:', error));

        // 3. Total Number of Official Languages
        fetch(countriesAPI)
            .then(response => response.json())
            .then(countries => {
                const allLanguages = new Set();
                countries.forEach(country => {
                    country.languages.forEach(language => allLanguages.add(language.name));
                });
                console.log(`Total Number of Official Languages: ${allLanguages.size}`);
            })
            .catch(error => console.error('Error fetching countries data:', error));


        // Read the cats api and find the average weight of cat in metric unit.
        // Read the countries api and find out the 10 largest countries
        // Read the countries api and count total number of languages in the world used as officials.
    </script>
</body>

</html>